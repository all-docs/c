<!DOCTYPE html><html lang="en" dir="ltr" class="client-nojs"><head>
<title>Order of evaluation</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.21.2">
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;action=edit">
<link rel="edit" title="Edit" href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;action=edit">
<link rel="shortcut icon" href="../../../favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="../../../mwiki/opensearch_desc.php" title="cppreference.com (en)">
<link rel="EditURI" type="application/rsd+xml" href="../../../mwiki/api.php@action=rsd">
<link rel="alternate" type="application/atom+xml" title="cppreference.com Atom feed" href="https://en.cppreference.com/mwiki/index.php?title=Special:RecentChanges&amp;feed=atom">

<meta name="ResourceLoaderDynamicStyles" content="">

<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>




<style type="text/css">/*<![CDATA[*/
.source-c {line-height: normal;}
.source-c li, .source-c pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for c
 * CSS class: source-c, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.c.source-c .de1, .c.source-c .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.c.source-c  {font-family:monospace;}
.c.source-c .imp {font-weight: bold; color: red;}
.c.source-c li, .c.source-c .li1 {font-weight: normal; vertical-align:top;}
.c.source-c .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.c.source-c .li2 {font-weight: bold; vertical-align:top;}
.c.source-c .kw1 {color: #0000dd;}
.c.source-c .kw2 {color: #0000ff;}
.c.source-c .kw3 {color: #0000dd;}
.c.source-c .kw4 {color: #0000ff;}
.c.source-c .co1 {color: #909090;}
.c.source-c .co2 {color: #339900;}
.c.source-c .coMULTI {color: #ff0000; font-style: italic;}
.c.source-c .es0 {color: #008000; font-weight: bold;}
.c.source-c .es1 {color: #008000; font-weight: bold;}
.c.source-c .es2 {color: #008000; font-weight: bold;}
.c.source-c .es3 {color: #008000; font-weight: bold;}
.c.source-c .es4 {color: #008000; font-weight: bold;}
.c.source-c .es5 {color: #008000; font-weight: bold;}
.c.source-c .br0 {color: #008000;}
.c.source-c .sy0 {color: #008000;}
.c.source-c .sy1 {color: #000080;}
.c.source-c .sy2 {color: #000040;}
.c.source-c .sy3 {color: #000040;}
.c.source-c .sy4 {color: #008080;}
.c.source-c .st0 {color: #008000;}
.c.source-c .nu0 {color: #000080;}
.c.source-c .nu6 {color:#000080;}
.c.source-c .nu8 {color:#000080;}
.c.source-c .nu12 {color:#000080;}
.c.source-c .nu16 {color:#000080;}
.c.source-c .nu17 {color:#000080;}
.c.source-c .nu18 {color:#000080;}
.c.source-c .nu19 {color:#000080;}
.c.source-c .ln-xtra, .c.source-c li.ln-xtra, .c.source-c div.ln-xtra {background-color: #ffc;}
.c.source-c span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--><style>.t-lines > span { display: table-row; }</style></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-c_language_eval_order skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        
        <!-- /header -->
        <!-- content -->
<style type="text/css">
#carbonads {
  display: block;
  overflow: hidden;
  position: absolute;
  text-align: center;
  left: -170px;
  max-width: 150px;
  border-radius: 4px;
  border: solid 1px hsla(0, 0%, 0%, .1);
  background-color: hsl(0, 0%, 98%);
  font-size: 12px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
  Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  display: block;
  margin-bottom: 8px;
  max-width: 150px;
  line-height: 1;
}

.carbon-img img {
  display: block;
  margin: 0 auto;
  max-width: 150px !important;
  width: 150px;
  height: auto;
}

.carbon-text {
  display: block;
  padding: 0 1em 8px;
}

.carbon-poweredby {
  display: block;
  padding: 8px 12px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
html { font-variant-ligatures: no-common-ligatures; }
</style>
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->




                <h1 id="firstHeading" class="firstHeading">Order of evaluation</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>Order of evaluation of the operands of any C operator, including the order of evaluation of function arguments in a function-call expression, and the order of evaluation of the subexpressions within any expression is unspecified (except where noted below). The compiler will evaluate them in any order, and may choose another order when the same expression is evaluated again.
</p><p>There is no concept of left-to-right or right-to-left evaluation in C, which is not to be confused with left-to-right and right-to-left associativity of operators: the expression <span class="t-c"><span class="mw-geshi c source-c">f1<span class="br0">(</span><span class="br0">)</span> <span class="sy2">+</span> f2<span class="br0">(</span><span class="br0">)</span> <span class="sy2">+</span> f3<span class="br0">(</span><span class="br0">)</span></span></span> is parsed as <span class="t-c"><span class="mw-geshi c source-c"><span class="br0">(</span>f1<span class="br0">(</span><span class="br0">)</span> <span class="sy2">+</span> f2<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="sy2">+</span> f3<span class="br0">(</span><span class="br0">)</span></span></span> due to left-to-right associativity of <span class="mw-geshi c source-c">operator<span class="sy2">+</span></span>, but the function call to <span class="t-c"><span class="mw-geshi c source-c">f3<span class="br0">(</span><span class="br0">)</span></span></span> may be evaluated first, last, or between <span class="t-c"><span class="mw-geshi c source-c">f1<span class="br0">(</span><span class="br0">)</span></span></span> or <span class="t-c"><span class="mw-geshi c source-c">f2<span class="br0">(</span><span class="br0">)</span></span></span> at run time.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="./eval_order.htm#Definitions"><span class="tocnumber">1</span> <span class="toctext">Definitions</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="./eval_order.htm#Evaluations"><span class="tocnumber">1.1</span> <span class="toctext">Evaluations</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="./eval_order.htm#Ordering"><span class="tocnumber">1.2</span> <span class="toctext">Ordering</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="./eval_order.htm#Rules"><span class="tocnumber">2</span> <span class="toctext">Rules</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="./eval_order.htm#Undefined_behavior"><span class="tocnumber">3</span> <span class="toctext">Undefined behavior</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="./eval_order.htm#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;action=edit&amp;section=1" title="Edit section: Definitions">edit</a>]</span> <span class="mw-headline" id="Definitions">Definitions</span></h3>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;action=edit&amp;section=2" title="Edit section: Evaluations">edit</a>]</span> <span class="mw-headline" id="Evaluations">Evaluations</span></h4>
<p>There are two kinds of evaluations performed by the compiler for each expression or subexpression (both of which are optional):
</p>
<ul><li> <i>value computation ﻿</i>: calculation of the value that is returned by the expression. This may involve determination of the identity of the object (<a href="./value_category.htm" title="c/language/value category">lvalue evaluation</a>) or reading the value previously assigned to an object (rvalue evaluation).
</li><li> <i>side effect ﻿</i>: access (read or write) to an object designated by a <a href="./volatile.htm" title="c/language/volatile"><code>volatile</code></a> lvalue, modification (writing) to an object<span class="t-rev-inl t-since-c11"><span>, atomic synchronization</span><span><span class="t-mark-rev t-since-c11">(since C11)</span></span></span>, modifying a file, modifying the floating-point environment (if supported), or calling a function that does any of those operations.
</li></ul>
<p>If no side effects are produced by an expression and the compiler can determine that the value is not used, the expression <a href="./as_if.htm" title="c/language/as if">may not be evaluated</a>.
</p>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;action=edit&amp;section=3" title="Edit section: Ordering">edit</a>]</span> <span class="mw-headline" id="Ordering">Ordering</span></h4>
<p><i>Sequenced-before</i> is an asymmetric, transitive, pair-wise relationship between evaluations within the same thread (it may extend across threads if atomic types and memory barriers are involved).
</p>
<ul><li> If a <a href="https://en.wikipedia.org/wiki/Sequence_point" class="extiw" title="enwiki:Sequence point">sequence point</a> is present between the subexpressions <span class="t-c"><span class="mw-geshi c source-c">E1</span></span> and <span class="t-c"><span class="mw-geshi c source-c">E2</span></span>, then both value computation and side effects of <span class="t-c"><span class="mw-geshi c source-c">E1</span></span> are <i>sequenced-before</i> every value computation and side effect of <span class="t-c"><span class="mw-geshi c source-c">E2</span></span>.
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-c11"><td>
<ul><li> If evaluation A is sequenced before evaluation B, then evaluation of A will be complete before evaluation of B begins.
</li><li> If A is not sequenced before B and B is sequenced before A, then evaluation of B will be complete before evaluation of A begins.
</li><li> If A is not sequenced before B and B is not sequenced before A, then two possibilities exist:
<ul><li> evaluations of A and B are unsequenced: they may be performed in any order and may overlap (within a single thread of execution, the compiler may interleave the CPU instructions that comprise A and B)
</li><li> evaluations of A and B are indeterminately-sequenced: they may be performed in any order but may not overlap: either A will be complete before B, or B will be complete before A. The order may be the opposite the next time the same expression is evaluated.
</li></ul>
</li></ul>
</td>
<td><span class="t-mark-rev t-since-c11">(since C11)</span></td></tr>
</tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;action=edit&amp;section=4" title="Edit section: Rules">edit</a>]</span> <span class="mw-headline" id="Rules">Rules</span></h3>
<div class="t-li1"><span class="t-li">1)</span> There is a sequence point after the evaluation of all function arguments and of the function designator, and before the actual function call.</div>
<div class="t-li1"><span class="t-li">2)</span> There is a sequence point after evaluation of the first (left) operand and before evaluation of the second (right) operand of the following binary operators: <code>&amp;&amp;</code> (logical AND), <code>||</code> (logical OR), and <code>,</code> (comma).</div>
<div class="t-li1"><span class="t-li">3)</span> There is a sequence point after evaluation of the first (left) operand and before evaluation of the second or third operand (whichever is evaluated) of the conditional operator <code>?:</code></div>
<div class="t-li1"><span class="t-li">4)</span> There is a sequence point after the evaluation of a full expression (an expression that is not a subexpression: typically something that ends with a semicolon or a <a href="./statements.htm" title="c/language/statements">controlling statement</a> of <span class="mw-geshi c source-c"><span class="kw1">if</span></span>/<span class="mw-geshi c source-c"><span class="kw1">switch</span></span>/<span class="mw-geshi c source-c"><span class="kw1">while</span></span>/<span class="mw-geshi c source-c"><span class="kw1">do</span></span>) and before the next full expression.</div>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-c99"><td>
<div class="t-li1"><span class="t-li">5)</span> There is a sequence point at the end of a full declarator.</div>
<div class="t-li1"><span class="t-li">6)</span> There is a sequence point immediately before the return of a library function.</div>
<div class="t-li1"><span class="t-li">7)</span> There is a sequence point after the action associated with each conversion specifier in formatted I/O (in particular, it is well-formed for <span class="t-lc"><a href="../io/fscanf.htm" title="c/io/fscanf">scanf</a></span> to write different fields into the same variable and for <span class="t-lc"><a href="../io/fprintf.htm" title="c/io/fprintf">printf</a></span> to read and modify or modify the same variable more than once using <span class="t-c"><span class="mw-geshi c source-c"><span class="sy2">%</span>n</span></span>)</div>
<div class="t-li1"><span class="t-li">8)</span> There are sequence points before and immediately after each call to a comparison function made by the library functions <span class="t-lc"><a href="../algorithm/qsort.htm" title="c/algorithm/qsort">qsort</a></span> and <span class="t-lc"><a href="../algorithm/bsearch.htm" title="c/algorithm/bsearch">bsearch</a></span>, as well as between any call to the comparison function and the movement of the associated objects made by <span class="t-lc"><a href="../algorithm/qsort.htm" title="c/algorithm/qsort">qsort</a></span>
</div></td>
<td><span class="t-mark-rev t-since-c99">(since C99)</span></td></tr>
<tr class="t-rev t-since-c11"><td>
<div class="t-li1"><span class="t-li">9)</span> The value computations (but not the side-effects) of the operands to any operator are sequenced before the value computation of the result of the operator (but not its side-effects).</div>
<div class="t-li1"><span class="t-li">10)</span> The side effect (modification of the left argument) of the direct assignment operator and of all compound assignment operators is sequenced after the value computation (but not the side effects) of both left and right arguments.</div>
<div class="t-li1"><span class="t-li">11)</span> The value computation of the post-increment and post-decrement operators is sequenced before its side-effect.</div>
<div class="t-li1"><span class="t-li">12)</span> A function call that is not sequenced before or sequenced after another function call is indeterminately sequenced (CPU instructions that constitute different function calls cannot be interleaved, even if the functions are inlined)</div>
<div class="t-li1"><span class="t-li">13)</span> In <a href="./initialization.htm" title="c/language/initialization">initialization</a> list expressions, all evaluations are indeterminately sequenced</div>
<div class="t-li1"><span class="t-li">14)</span> With respect to an indeterminately-sequenced function call, the operation of compound assignment operators, and both prefix and postfix forms of increment and decrement operators are single evaluations.
</div></td>
<td><span class="t-mark-rev t-since-c11">(since C11)</span></td></tr>
</tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;action=edit&amp;section=5" title="Edit section: Undefined behavior">edit</a>]</span> <span class="mw-headline" id="Undefined_behavior">Undefined behavior</span></h3>
<div class="t-li1"><span class="t-li">1)</span> If a side effect on a scalar object is unsequenced relative to another side effect on the same scalar object, the <a href="./behavior.htm#UB_and_optimization" title="c/language/behavior">behavior is undefined</a>.
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="c source-c"><pre class="de1">i <span class="sy1">=</span> <span class="sy2">++</span>i <span class="sy2">+</span> i<span class="sy2">++</span><span class="sy4">;</span> <span class="co1">// undefined behavior</span>
i <span class="sy1">=</span> i<span class="sy2">++</span> <span class="sy2">+</span> <span class="nu0">1</span><span class="sy4">;</span> <span class="co1">// undefined behavior</span>
f<span class="br0">(</span><span class="sy2">++</span>i, <span class="sy2">++</span>i<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// undefined behavior</span>
f<span class="br0">(</span>i <span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span>, i <span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// undefined behavior</span></pre></div></div></div>
<div class="t-li1"><span class="t-li">2)</span> If a side effect on a scalar object is unsequenced relative to a value computation using the value of the same scalar object, the behavior is undefined.
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="c source-c"><pre class="de1">f<span class="br0">(</span>i, i<span class="sy2">++</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// undefined behavior</span>
a<span class="br0">[</span>i<span class="br0">]</span> <span class="sy1">=</span> i<span class="sy2">++</span><span class="sy4">;</span> <span class="co1">// undefined behavior</span></pre></div></div></div>
<div class="t-li1"><span class="t-li">3)</span> The above rules apply as long as at least one allowable ordering of subexpressions permits such an unsequenced side-effect.</div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;action=edit&amp;section=6" title="Edit section: See also">edit</a>]</span> <span class="mw-headline" id="See_also">See also</span></h3>
<p><a href="./operator_precedence.htm" title="c/language/operator precedence">Operator precedence</a> which defines how expressions are built from their source code representation.
</p>
<table class="t-dsc-begin">

<tbody><tr class="t-dsc">
<td colspan="2"> <div class="t-dsc-see"><span><a href="https://en.cppreference.com/w/cpp/language/eval_order.html" title="cpp/language/eval order">C++ documentation</a></span> for <span class=""><span>Order of evaluation</span></span></div>
</td></tr>

</tbody></table>

<!-- 
NewPP limit report
Preprocessor visited node count: 1776/1000000
Preprocessor generated node count: 5732/1000000
Post‐expand include size: 52478/4194304 bytes
Template argument size: 8961/4194304 bytes
Highest expansion depth: 19/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:8452-0!*!0!!en!*!* and timestamp 20250505035408 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;oldid=183029">https://en.cppreference.com/mwiki/index.php?title=c/language/eval_order&amp;oldid=183029</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id="catlinks" class="catlinks catlinks-allhidden"></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        
        <!-- /footer -->
        



<!-- Served in 0.035 secs. -->
	


</body><!-- Cached 20250505035838 --></html>